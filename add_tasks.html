<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>JOIN</title>
	<link rel="stylesheet" href="./CSS/default.css">
	<link rel="stylesheet" href="./CSS/sidebar.css">
    <link rel="stylesheet" href="./CSS/header.css">
	<link rel="stylesheet" href="./CSS/add_tasks.css">
</head>
<body onclick="closeOverlay()" onload="includeHTML(); renderTask()">
	<div w3-include-html="header.html"></div>
    <div w3-include-html="sidebar.html"></div>
	<div id="add-task" class="add_task flex-column">
		<h1>Add Task</h1>
		<form onsubmit="createNewTask(); return false">
			<div class="form-container flex">
				<div class="leftside flex-column">
					<div class="task-input task-title">
						<label for="title">Title<span class="required-fields">*</span></label>
						<input id="title" type="text" placeholder="Enter a title" required>
					</div>
					<div class="task-input task-description">
						<label for="description">Description</label>
						<textarea name="description" id="description" cols="30" rows="7" placeholder="Enter a Description"></textarea>
					</div>
					<div class="task-input task-prio">
						<label for="prio">Prio</label>
						<div class="buttons flex">
							<div id="priority-alta" class="priority-alta priority-button" onclick="selectPriority('alta')">Urgent</div>
							<div id="priority-medium" class="priority-medium priority-button medium" onclick="selectPriority('medium')">Medium</div>
							<div id="priority-baia" class="priority-baia priority-button" onclick="selectPriority('baia')">Low</div>
						</div>
					</div>
					<div id="task-assigned-to" class="task-input task-assigned-to">
						<label for="assign-to">Assign to</label>
						<input onclick="openOverlay(event, 'contacts-list')" id="assign-to" type="text" placeholder="Select contacts to assign" readonly>
						<img onclick="openOverlay(event, 'contacts-list')" class="dropdown" src="./img/arrow_dropdown.svg" alt="arrow dropdown" tabindex="0">
						<div id="contacts-list" class="contacts-list">
							<div id="list-item" class="list-item"></div>
						</div>
						<div id="added-contacts" class="flex"></div>
					</div>
				</div>
				<div class="rightside flex-column">
					<div class="task-input task-date">
						<label for="due-date">Due Date<span class="required-fields">*</span></label>
						<input type="date" id="due-date" value="dd/mm/yyyy" required>
					</div>
					<div class="task-input task-prio">
						<label for="prio">Prio</label>
						<div class="buttons flex">
							<div id="priority-alta" class="priority-alta priority-button" onclick="selectPriority('alta')">Urgent</div>
							<div id="priority-medium" class="priority-medium priority-button medium" onclick="selectPriority('medium')">Medium</div>
							<div id="priority-baia" class="priority-baia priority-button" onclick="selectPriority('baia')">Low</div>
						</div>
					</div>
					<div id="task-category" class="task-input task-category">
						<label for="category">Category<span class="required-fields">*</span></label>
						<input onclick="openOverlay(event, 'categories-list')" id="category" type="text" placeholder="Select task category" required readonly>
						<img onclick="openOverlay(event, 'categories-list')" class="dropdown" src="./img/arrow_dropdown.svg" alt="arrow dropdown">
						<div id="categories-list" class="categories-list">
							<div id="list-item-category" class="list-item-category"></div>
						</div>
					</div>
					<div id="task-assigned-to" class="task-input task-assigned-to">
						<label for="assign-to">Assign to</label>
						<input onclick="openOverlay(event, 'contacts-list-mobile')" id="assign-to" type="text" placeholder="Select contacts to assign" readonly>
						<img onclick="openOverlay(event, 'contacts-list-mobile')" class="dropdown" src="./img/arrow_dropdown.svg" alt="arrow dropdown" tabindex="0">
						<div id="contacts-list-mobile" class="contacts-list">
							<div id="list-item-mobile" class="list-item"></div>
						</div>
						<div id="added-contacts-mobile" class="flex"></div>
					</div>
					<div class="task-input task-subtasks">
						<label for="subtasks">Subtasks</label>
						<input onclick="changeIcons()" id="subtasks" type="text" placeholder="Add new Subtask">
						<div id="subtasks-list" class="subtasks-list">
							<ul id="list-item-subtasks" class="list-item-subtasks"></ul>
						</div>
						<img id="subtasks-plus" class="subtasks-plus" src="./img/plus.svg" alt="">
						<div id="image-click" class="image-click d-none">
							<img onclick="clearSubtaskInput()" class="subtasks-clear" src="./img/clear.svg" alt="">
							<img onclick="addSubtask()" class="subtasks-check" src="./img/check-blue.svg" alt="">
						</div>
					</div>
				</div>
			</div>
			<div class="buttons-bottom">
				<button class="button1" onclick="clearFields()" formnovalidate>Clear</button>
				<button id="button-create-task" class="button2" disabled>Create task</button>
			</div>
		</form>
		<div id="success-lightbox" class="success-lightbox flex align-center justify-center">
            <div id="success" class="success flex">
                <button>Task added to board</button>
            </div>
        </div>
	</div>
	<script src="./js/loading.JS"></script>
	<script src="./js/add_task.js"></script>
</body>
</html>