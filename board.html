<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/CSS/default.css">
    <link rel="stylesheet" href="/CSS/board.css">
    <link rel="stylesheet" href="/CSS/default.css">
    <script src="./js/loading.JS"></script>
    <script src="./js/board.js"></script>
    <script src="./js/add_task.js"></script>
    
</head>

<body onload="renderBoard(), includeHTML(), generateTaskCards()">
    <div w3-include-html="header.html"></div>
    <div w3-include-html="sidebar.html"></div>
    <div class="main-board">
        <div id="add-task-popup" class="add-task-popup"><div id="add-task" class="add_task flex-column">
        <div id="close-task-button-div" onclick="closeAddTaskPopup()"><button>x</button></div>
            <h1>Add Task</h1>
            <form onsubmit="createNewTask(); return false">
                <div class="form-container flex">
                    <div class="leftside flex-column">
                        <div class="task-input task-title">
                            <label for="title">Title*</label>
                            <input id="title" type="text" placeholder="Enter a title" required>
                        </div>
                        <div class="task-input task-description">
                            <label for="description">Description</label>
                            <textarea name="description" id="description" cols="30" rows="7" placeholder="Enter a Description"></textarea>
                        </div>
                        <div id="task-assigned-to" class="task-input task-assigned-to">
                            <label for="assign-to">Assign to</label>
                            <input onclick="openOverlay(event, 'contacts-list')" id="assign-to" type="text" placeholder="Select contacts to assign">
                            <img onclick="openOverlay(event, 'contacts-list')" class="dropdown" src="./img/arrow_dropdown.svg" alt="arrow dropdown" tabindex="0">
                            <div id="contacts-list" class="contacts-list">
                                <div id="list-item" class="list-item"></div>
                            </div>
                            <div id="added-contacts" class="flex"></div>
                        </div>
                    </div>
                    <div class="rightside flex-column">
                        <div class="task-input task-date">
                            <label for="due-date">Due Date*</label>
                            <input type="date" id="due-date" value="dd/mm/yyyy" required>
                        </div>
                        <div class="task-input task-prio">
                            <label for="prio">Prio</label>
                            <div class="buttons flex">
                                <div id="priority-alta" class="priority-alta priority-button" onclick="selectPriority('alta')">Urgent</div>
                                <div id="priority-medium" class="priority-medium priority-button medium" onclick="selectPriority('medium')">Medium</div>
                                <div id="priority-baia" class="priority-baia priority-button" onclick="selectPriority('baia')">Low</div>
                            </div>
                        </div>
                        <div id="task-category" class="task-input task-category">
                            <label for="category">Category*</label>
                            <input onclick="openOverlay(event, 'categories-list')" id="category" type="text" placeholder="Select task category">
                            <img onclick="openOverlay(event, 'categories-list')" class="dropdown" src="./img/arrow_dropdown.svg" alt="arrow dropdown">
                            <div id="categories-list" class="categories-list">
                                <div id="list-item-category" class="list-item-category"></div>
                            </div>
                        </div>
                        <div class="task-input task-subtasks">
                            <label for="subtasks">Subtasks</label>
                            <input onclick="changeIcons()" id="subtasks" type="text" placeholder="Add new Subtask">
                            <div id="subtasks-list" class="subtasks-list">
                                <ul id="list-item-subtasks" class="list-item-subtasks"></ul>
                            </div>
                            <img id="subtasks-plus" class="subtasks-plus" src="./img/plus.svg" alt="">
                            <div id="image-click" class="image-click d-none">
                                <img onclick="clearSubtaskInput()" class="subtasks-clear" src="./img/clear.svg" alt="">
                                <img onclick="addSubtask()" class="subtasks-check" src="./img/check-blue.svg" alt="">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="buttons-bottom">
                    <button class="button1" onclick="clearFields()" formnovalidate>Clear</button>
                    <button class="button2">Create task</button>
                </div>
            </form>
            <div id="success-lightbox" class="success-lightbox flex align-center justify-center">
                <div id="success" class="success flex">
                    <button>Task added to board</button>
                </div>
            </div>
        </div></div>
        <div id="overview-container" class="task-big-view-overlay">
            <form class="half-w"onsubmit="">
            <div id="task-big-view-edit-card">
                
                    <div id="overview-edit-top">
                        <p id="overview-edit-title">Title</p>
                        <input id="overview-edit-title-input" required placeholder="Enter a title" type="text" value="Kochwelt Page & Recipe Recommender">
                    </div>
                    <div class="overview-edit-description">
                        <p>Description</p>
                        <textarea name="description" id="description-overview-edit" cols="30" rows="5"></textarea>
                    </div>
                    <div class="due-date-overview-edit overview-edit-description">
                        <p>Due date</p>
                        <input required type="date">
                    </div>
                    <div class="overview-edit-description">
                        <p class="priority-overview-edit">Priority</p>
                        <div class="priority-edit-buttons">
                            <div class="task-input task-prio-overview-edit">
                                
                                <div class="buttons flex task-prio-overview-edit">
                                    <div id="priority-alta" class="priority-alta priority-button" onclick="selectPriority('alta')">Urgent</div>
                                    <div id="priority-medium" class="priority-medium priority-button medium" onclick="selectPriority('medium')">Medium</div>
                                    <div id="priority-baia" class="priority-baia priority-button" onclick="selectPriority('baia')">Low</div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="assigned-to-overview-edit  margin-top">
                        <div id="task-assigned-to" class="task-input task-assigned-to">
                            <label for="assign-to">Assign to</label>
                            <input onclick="openOverlay('contacts-list')" id="assign-to" type="text" placeholder="Select contacts to assign">
                            <div id="contacts-list" class="contacts-list d-none">
                                <div id="list-item" class="list-item"></div>
                            </div>
                            <div id="added-contacts" class="flex"></div>
                        </div>
                    </div>
                </form>
            </div>
            <div id="task-big-view-card" class="">
                <div class="type-close">
                    <button class="task-type task-type-overview">User Story</button>
                    <img onclick="closeTaskOverview()" src="./img/close.png">
                </div>
                <div id="overview-card-top">
                    <p id="overview-title">Kochwelt Page & Recipe Recommender</p>
                    <p id="overview-details">Build start page with recipe recommendation.</p>
                    <div class="overview-date">
                        <p>Due date: </p>
                        <p> 10/05/2023</p>
                    </div>
                    <div class="overview-date">
                        <p>Priority:</p>
                        <p>Medium</p>
                        <img src="./img/prio-media.svg">
                    </div>
                </div>
                <div class="assigned-to-overview">
                    <p>Assigned To:</p>
                    <div id="overview-contact">
                        <p id="overview-initials">EM</p>
                        <p id="overview-fullname">Emmanuel Mauer</p>
                    </div>
                    <div id="overview-contact">
                        <p id="overview-initials">EM</p>
                        <p id="overview-fullname">Emmanuel Mauer</p>
                    </div>
                </div>
                <div class="subtasks-overview">
                    <p>Subtasks</p>
                    <div id="subtasks-checklist-overview">
                        <div class="subtask">
                            <input id="subtask-checkbox1" type="checkbox">
                            <p id="subtask-text">Implement Recipe Recommendation</p>
                        </div>
                        <div class="subtask">
                            <input id="subtask-checkbox2" type="checkbox">
                            <p id="subtask-text">Start Page Layout</p>
                        </div>
                    </div>
                </div>
                <div class="overview-bottom-buttons">
                    <button class="delete-overview border-right"><img src="./img/delete-subtask.svg"> Delete</button>
                    <button class="delete-overview" onclick="editTaskOverview()"><img
                            src="./img/edit-subtask.svg">Edit</button>

                </div>

            </div>
        </div>
        <div class="board-top">
            <h1 class="board-title">Board</h1>
            <div class="board-top-right">
                <input class="input-board-top" placeholder="Find Task" type="text">
                <button id="add-task-btn" onclick="openAddTaskPopup()">Add task <img src="./img/add.png"></button>
            </div>
        </div>
        <div class="board-container">
            <div class="board-column ">
                <div class="board-column-title">
                    <p>To do</p>
                    <img src="/img/plus-button.png">
                </div>
                <div id="to-do" class="drag-area">
                    
                </div>
            </div>
            <div class="board-column">
                <div class="board-column-title">
                    <p>In progress</p>
                    <img src="/img/plus-button.png">
                </div>
                <div id="in-progress" class="drag-area">
                    <div class="task-card">
                        <button class="task-type">User Story</button>
                        <div class="task-text">
                            <p id="task-title">Kochwelt Page & Recipe Recommender</p>
                            <p id="task-details">Build start page with recipe recommendation...</p>
                        </div>
                        <div class="subtasks">
                            <div class="progress-container">
                                <div class="progress-bar" style="width: 50%;"></div>
                            </div>
                            <div>
                                <p>0/2 Subtasks</p>
                            </div>

                        </div>
                        <div class="task-card-bottom">
                            <div id="initials">
                                <p id="initials-circle-1">AS</p>
                                <p id="initials-circle-2">DE</p>
                                <p id="initials-circle-3">EF</p>
                            </div>
                            <div>
                                <img id="priority-image-small" src="/img/prio-baia.svg">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="board-column">
                <div class="board-column-title">
                    <p>Await feedback</p>
                    <img src="/img/plus-button.png">
                </div>
                <div id="await-feedback" class="drag-area"></div>
            </div>
            <div class="board-column">
                <div class="board-column-title">
                    <p>Done</p>
                </div>
                <div id="done-tasks" class="drag-area"></div>
            </div>
        </div>
    </div>
</body>

</html>